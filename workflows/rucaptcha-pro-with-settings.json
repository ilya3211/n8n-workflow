{
  "name": "üöÄ RuCaptcha PRO - –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏",
  "nodes": [
    {
      "parameters": {},
      "id": "trigger-001",
      "name": "‚ñ∂Ô∏è START",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 500]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "apiKey",
              "value": "5fffba5de3bed2317417f625985ec684"
            },
            {
              "name": "siteKey",
              "value": "6Le-wvkSAAAAAPBMRTvw0Q4Muexq9bi0DJwx_mJ-"
            },
            {
              "name": "pageUrl",
              "value": "https://www.google.com/recaptcha/api2/demo"
            }
          ],
          "number": [
            {
              "name": "maxRetries",
              "value": 10
            },
            {
              "name": "currentRetry",
              "value": 0
            }
          ]
        }
      },
      "id": "config-node",
      "name": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [460, 500]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://rucaptcha.com/in.php",
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "key",
              "value": "={{ $json.apiKey }}"
            },
            {
              "name": "method",
              "value": "userrecaptcha"
            },
            {
              "name": "googlekey",
              "value": "={{ $json.siteKey }}"
            },
            {
              "name": "pageurl",
              "value": "={{ $json.pageUrl }}"
            },
            {
              "name": "json",
              "value": "1"
            }
          ]
        },
        "options": {}
      },
      "id": "create-task",
      "name": "1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [680, 500]
    },
    {
      "parameters": {
        "conditions": {
          "number": [
            {
              "value1": "={{ $json.status }}",
              "operation": "equal",
              "value2": 1
            }
          ]
        }
      },
      "id": "check-task-created",
      "name": "‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [900, 500]
    },
    {
      "parameters": {
        "amount": 5,
        "unit": "seconds"
      },
      "id": "wait-5s",
      "name": "‚è±Ô∏è –ñ–¥–µ–º 5 —Å–µ–∫",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [1120, 600],
      "webhookId": "webhook-wait-5s"
    },
    {
      "parameters": {
        "method": "GET",
        "url": "=https://rucaptcha.com/res.php?key={{ $('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏').item.json.apiKey }}&action=get&id={{ $json.request }}&json=1",
        "options": {}
      },
      "id": "get-result",
      "name": "2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1340, 600]
    },
    {
      "parameters": {
        "conditions": {
          "number": [
            {
              "value1": "={{ $json.status }}",
              "operation": "equal",
              "value2": 1
            }
          ]
        }
      },
      "id": "check-ready",
      "name": "‚úÖ –ì–æ—Ç–æ–≤–æ?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1560, 600]
    },
    {
      "parameters": {
        "jsCode": "const currentRetry = $input.first().json.currentRetry || 0;\nconst maxRetries = $('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏').item.json.maxRetries;\n\nif (currentRetry >= maxRetries) {\n  throw new Error('–ü—Ä–µ–≤—ã—à–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫: ' + maxRetries);\n}\n\nreturn {\n  json: {\n    ...items[0].json,\n    currentRetry: currentRetry + 1,\n    request: $('1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É').item.json.request\n  }\n};"
      },
      "id": "increment-retry",
      "name": "üîÑ –ü–æ–ø—ã—Ç–∫–∞ +1",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1780, 500]
    },
    {
      "parameters": {
        "amount": 3,
        "unit": "seconds"
      },
      "id": "wait-3s",
      "name": "‚è±Ô∏è –ñ–¥–µ–º 3 —Å–µ–∫",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [2000, 500],
      "webhookId": "webhook-wait-3s"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={{ {\n  \"success\": true,\n  \"captcha_token\": $json.request,\n  \"attempts\": $('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏').item.json.currentRetry || 0,\n  \"message\": \"–ö–∞–ø—á–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞!\"\n} }}"
      },
      "id": "success-output",
      "name": "üéâ –£–°–ü–ï–•",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1780, 700]
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={{ {\n  \"success\": false,\n  \"error\": $json.error || \"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏\",\n  \"errorCode\": $json.request || \"UNKNOWN\"\n} }}"
      },
      "id": "error-output",
      "name": "‚ùå –û–®–ò–ë–ö–ê",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1120, 400]
    }
  ],
  "connections": {
    "‚ñ∂Ô∏è START": {
      "main": [[{"node": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", "type": "main", "index": 0}]]
    },
    "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏": {
      "main": [[{"node": "1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É", "type": "main", "index": 0}]]
    },
    "1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É": {
      "main": [[{"node": "‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞?", "type": "main", "index": 0}]]
    },
    "‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞?": {
      "main": [
        [{"node": "‚ùå –û–®–ò–ë–ö–ê", "type": "main", "index": 0}],
        [{"node": "‚è±Ô∏è –ñ–¥–µ–º 5 —Å–µ–∫", "type": "main", "index": 0}]
      ]
    },
    "‚è±Ô∏è –ñ–¥–µ–º 5 —Å–µ–∫": {
      "main": [[{"node": "2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç", "type": "main", "index": 0}]]
    },
    "2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç": {
      "main": [[{"node": "‚úÖ –ì–æ—Ç–æ–≤–æ?", "type": "main", "index": 0}]]
    },
    "‚úÖ –ì–æ—Ç–æ–≤–æ?": {
      "main": [
        [{"node": "üîÑ –ü–æ–ø—ã—Ç–∫–∞ +1", "type": "main", "index": 0}],
        [{"node": "üéâ –£–°–ü–ï–•", "type": "main", "index": 0}]
      ]
    },
    "üîÑ –ü–æ–ø—ã—Ç–∫–∞ +1": {
      "main": [[{"node": "‚è±Ô∏è –ñ–¥–µ–º 3 —Å–µ–∫", "type": "main", "index": 0}]]
    },
    "‚è±Ô∏è –ñ–¥–µ–º 3 —Å–µ–∫": {
      "main": [[{"node": "2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç", "type": "main", "index": 0}]]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-18T00:00:00.000Z",
  "versionId": "1"
}
